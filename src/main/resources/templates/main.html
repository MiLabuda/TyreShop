<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/normalize.css" />
</head>

<body>

<div th:replace="fragments/header :: header"></div>

<div class="container">

        <button sec:authorize="hasRole('ROLE_ADMIN')" class="btn">
            <a th:href="@{/tyre/new}"><i class="fas fa-plus fa-2x"></i></a>
        </button>
        <div class="col card-deck ml-5 my-3" th:if="${!tyres.isEmpty()}" >
            <div class="card" th:each="tyre : ${tyres}">
                <div sec:authorize="hasRole('ROLE_ADMIN')" class="admin">
                    <button class="btn">
                        <a th:href="@{'tyre/delete/'} + ${tyre.getTyreId()}}" ><i class="fas fa-times"></i></a>
                    </button>
                    <button class="btn">
                        <a th:href="@{'tyre/edit/' + ${tyre.getTyreId()}}" ><i class="fas fa-wrench"></i></a>
                    </button>
                </div>
                <div class="card-body">
                    <h4 class="card-title" th:text="${tyre.getTyreManufacturer()}"></h4>
                    <p class="card-text" th:text="${tyre.getTyreModel()}"></p>
                </div>
                <div class="card-footer">
                    <p th:text="${tyre.getPrice()}"></p>
                    <a th:href="${'cart/add/' + tyre.getTyreId()}" class="btn btn-lg btn-outline-info btn-block" >Add to cart</a>
                </div>
            </div>
        </div>
        <div>
            <span th:text="${tyresCount}"></span>
        </div>
    </div>
</div>

</body>

</html>